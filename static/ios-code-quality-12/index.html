
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>iOS Code Quality 1/2</title>
	<meta name="description" content="">
	<meta name="HandheldFriendly" content="True">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

	<link rel="shortcut icon" href="../favicon.ico">

	<link rel="stylesheet" type="text/css" href="../assets/styles/build/style.css?v=1ce4e9d1a8">
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Oxygen:400,700">
	
	
	

    <link rel="canonical" href="index.html">
    
    <meta property="og:site_name" content="Julien Gdt">
    <meta property="og:type" content="article">
    <meta property="og:title" content="iOS Code Quality 1/2">
    <meta property="og:description" content="When I tell my friend i'm a developer and i'm writing some bunch of code, they don't say it but, I know they see me like this: And when I feel this, I know they see me like someone who...">
    <meta property="og:url" content="http://localhost:2368/ios-code-quality-12/">
    <meta property="article:published_time" content="2015-06-18T22:11:24.286Z">
    <meta property="article:modified_time" content="2015-06-18T22:11:24.279Z">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="iOS Code Quality 1/2">
    <meta name="twitter:description" content="When I tell my friend i'm a developer and i'm writing some bunch of code, they don't say it but, I know they see me like this: And when I feel this, I know they see me like someone who...">
    <meta name="twitter:url" content="http://localhost:2368/ios-code-quality-12/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Julien Gdt",
    "author": {
        "@type": "Person",
        "name": "Julien Gdt",
        "image": "http://localhost:2368/content/images/2015/05/jlngdt_rounded.png",
        "url": "http://localhost:2368/author/julien",
        "sameAs": "http://juliengdt.github.io/github-resume/",
        "description": null
    },
    "headline": "iOS Code Quality 1/2",
    "url": "http://localhost:2368/ios-code-quality-12/",
    "datePublished": "2015-06-18T22:11:24.286Z",
    "dateModified": "2015-06-18T22:11:24.279Z",
    "description": "When I tell my friend i&#x27;m a developer and i&#x27;m writing some bunch of code, they don&#x27;t say it but, I know they see me like this: And when I feel this, I know they see me like someone who..."
}
    </script>

    <meta name="generator" content="Ghost 0.6">
    <link rel="alternate" type="application/rss+xml" title="Julien Gdt" href="../rss/index.html">
</head>
<body class="post-template
	&gt;
	
	&lt;div class=" site-main>

<header class="site-header">
	<a href="../"><img class="blog-logo" src="../content/images/2015/05/Decode-for-Ghost-1-1.svg" alt="Blog Logo"></a>
	<h1 class="blog-title"><a href="../">Julien Gdt</a></h1>
	<h2 class="blog-description">Yo. I'm coding on iOS, and you ?</h2>
	
	<ul class="nav">
    <li class="nav-home" role="presentation"><a href="../">Home</a></li>
</ul>
</header>

<main class="site-content" role="main">

	<article class="post">
			


			<header class="post-header">
				
				<h1 class="post-title">iOS Code Quality 1/2</h1>
				<span class="post-meta">Posted on <time datetime="2015-06-19">19 June 2015</time></span>
			</header>

			<section class="post-content">
				<p>When I tell my friend i'm a developer and i'm writing some bunch of code, they don't say it but, I know they see me like this:</p>

<p></p><center><img src="http://cdn.cultofmac.com/wp-content/uploads/2013/09/CoM-Coding.jpg" alt="Crazy Coding" title=""></center>

<p>And when I feel this, I know they see me like someone who write tons and tons of line of codes, unreadable things like, you know, the Matrix. But it's false, because good dev use good code quality tools and rules. And if you follow some good guidelines and have a bit of organization/team-spirit, you can do a xcodeproj as sexy as the final app! Here are some of the major things I personaly use when I develop an iOS app.</p>

<h2 id="teamworking">Team Working</h2>

<p>Excepting some folks, many of iOS devs work in a team and THAT is a big good point !</p>

<pre><code>    Two pairs of eyes for one line of code
</code></pre>

<p>This sentence must in your TOP-10 geeky sentence when you are coding. It can be seen unproductive to be reviewed by another co-worker, but in fact, it's very effective, more productive and very formative. This can be done with some rules:</p>

<h3 id="extremeprogramming">Extreme programming</h3>

<p>This can be viewed like a good expression to explain when 2 folks are in front of a screen but ... no programming (9GAG is your best friend for this period) BUT in reality it's a very effective way to produce lighter code, more thoughtful bunch of lines or algorithm. Coding in binom can show you another point of view or another way to do your stuff.</p>

<p>It's an efficient solution but it have to be done sporadically and periodically. Too many extreme programming kill the process: this have to be done only when you stuck on a part of your work or when you have to choose between solutions, when you have to make a big choices. 2 brains for big things, not to choose a color for example (and after go to see some poney on 9gag...).</p>

<h3 id="communityprogramming">Community programming</h3>

<p>Softer than E.P., community programming is a good (and personnaly adopted) way to review your code. The best example of community programming is GitHub.</p>

<p></p><center><img src="http://www.simonblum.me/wp-content/uploads/2014/10/GitHub.jpg" alt="GitHub Logo" title=""></center>

<p>With 9 millions of users, GitHub is the best example of community programming. And it's done using some programming tools, seen below ;) ! <br>
The main objective of this method is to review your code by your co-worker but on your commit (which push you into doing short commit ! another little tips), which are accepted during pull/merge request of your laste change on the main repo (@see below)</p>

<h2 id="teamworkinggittools">Team working - Git tools</h2>

<p>When you build an app in a community/team programming spirit, you can use two veru good assets in the git package. Git-Flow and pull/merge request.</p>

<h3 id="gitflow">Git-Flow</h3>

<p>Git-Flow is not a direct way to enhance your code quality, but enhance your code organization, and so the quality of your build. It can be summarized by a famous sentence:</p>

<pre><code>Divide to rule
</code></pre>

<p>and in french </p>

<pre><code>Diviser pour mieux régner   
</code></pre>

<p>Git-Flow allow you to divide your action and force you to commit your code for each hotfix/feature/release/build/add/improvment/whateveryouwant in a different branch. Let's see this very good graph:</p>

<p></p><center><img src="https://fr.atlassian.com/git/images/tutorials/collaborating/comparing-workflows/gitflow-workflow/05.svg" alt="GitFlow graph" title=""></center>

<p>As you can see, when you, you code on two branches (develop and master), Git Flow allow/force you to much more:</p>

<ul>
<li><p>Historical branches</p>

<ul><li>These are your master and develop. Every commit on the master is a production release. Every commit on the develop branch is a beta-test release for you and not the client (like for your internal receip. Not more, not less. That's all. To give you a scope, develop is the branch where you will do your main continuous integration.</li></ul></li>
<li><p>Feature branches</p>

<ul><li>They allow you to add... well ... features ! For ex, in your app you want to accept URL Schemes, you will branch from the last develop, named it like "URLScheme" and do all its job on it, and ONLY its job. You wanna fix at the middle of the feature a bug ? let's commit your work on the "URLScheme" and use the Git-Flow "Hotfix"</li></ul></li>
<li><p>Release branches</p>

<ul><li>develop is your main branch, master is the AppStore branch, and release is the client branch. Every commit on it is an AdHoc deployment. Easy, no ? There are some conventions about this branch:
<ul><li>branch off: develop</li>
<li>merge into: master</li>
<li>naming convention: release-* or release/*</li></ul></li></ul></li>
<li><p>Hotfix branches, or "Maintenance branches"</p>

<ul><li>In web jobs in general, hotfix is seen like a hotfix directly on the master branch, and deploy at the same time on the develop one. For iOS, you can use hotfixes on master directly (for critical issues like security threat) or in the develop branch to fix an issue seen by a client on its last Release commit (but keep an eye on wich develop commit you have to hotfix !)</li></ul></li>
</ul>

<p>If you want more informations about Git-Flow workflow, I redirect you on the very good article made by Atlassian: <a href="https://fr.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">Gitflow Workflow</a></p>

<h3 id="forksmergepullrequests">Forks &amp; Merge/Pull requests</h3>

<p></p><center><img src="https://fr.atlassian.com/git/images/tutorials/collaborating/comparing-workflows/forking-workflow/01.svg" alt="Merge Requests" title=""></center>

<p>Forking workflow has a major difference compared to the main workflow. There is not one repos for X devs, there are as many repos as folks. One of this devs is the "dictator" one, the expert (blue guy above) who reviewed all developers' code. This is the strict way to use Forking Workflow. I prefere when there is not dictator, and all others developers reviewed the code: It's cost-efficient and not all mobile team have an expert, it's a fact. So you can be the dictator... yes ...</p>

<p></p><center><img src="http://i0.kym-cdn.com/photos/images/newsfeed/000/495/314/e2b.png" alt="Diabolic baby meme" title=""></center>

<p>Here is how it work:</p>

<ol>
<li>Instead of working on the main repos, every devs <a href="https://help.github.com/articles/fork-a-repo/">fork</a> it on his own GitHub/GitLab profil (his own remote).</li>
<li>Every devs clone their own new-borned remote locally.</li>
<li>They do stuffs...</li>
<li>...and commit/push (so always on their remote repo)</li>
<li>After that, and when a developer feels the need to be reviewed and apply their changes for all other devs AND the big main repo (the upstream), he ask a pull/merge request
<ul><li>On GitHub it's named a Pull Request...</li>
<li>and on Gitlab a Merge Request. But it's the same workflow/meaning.</li></ul></li>
<li>The dictator (or in a best cases the others devs) review the code and comment it. Note: a Pull/Merge request has to be seen like a post or a thread: you can discuss on it, ask why he did like that, explain why your solution is better etc etc ...</li>
<li>The dev who ask the request saw some "To-Do" changes written during the review, change his code, push again (the PR/MR is automatically refreshed, no need to recreate one)</li>
<li>Another review by the dictator etc etc etc ...</li>
<li>... the Dictator accept the MR/PR</li>
<li>The changes are automatically merged (80% of the times, maybe some part have to be done manually, thank you .pbxproj) and deploy on the main repo, the upstream one !</li>
<li><p>all other devs just have to pull on their own forked to get the changes !</p>

<p>Again, if you want better or deeper explanations, Atlassian is your friend: <a href="https://fr.atlassian.com/git/tutorials/comparing-workflows/forking-workflow">Forking Workflow</a></p></li>
</ol>

<h2 id="dependencymanagers">Dependency managers</h2>

<p>Every good iOS developer is a lazy developer, that's a fact: you don't want to re-re-re-re-re-re-rewrite the same model, the same HTTP Client or the same Custom 3D popup View Of The Death. And you don't even think to pull an update of these really cool stuffs, afraid to put a time bomb on your project. For this, you can use dependency managers.</p>

<p></p><center><img src="http://www.appletouch.fr/wp-content/uploads/2010/12/logo-package-cydia.png" alt="Package Logo" title=""></center>

<p>Dependency managers allow you to use the KISS spirit: Keep It Simple Stuff. <br>
No need to re-invent known and very well done stuff (who said AFNetwork ?), get errors when you want to add this beautiful CryptographicOfTheDeath.bundle or when you have the best red lines in xCode: "Duplicate Symbols for ARM64" ... yay ! </p>

<h3 id="cocoapods">Cocoapods</h3>

<p></p><center><img src="http://blog.newrelic.com/wp-content/uploads/cocoapods-2.jpg" alt="Cocoapods logo" title=""></center>

<p>The TOP 1 tool for all iOS developers is Cocoapods: it allows you to add any correct repo on your xcode project and use it just by adding one line of script. It depends of a file, named Podfile, and created by yourself at the root of your project and is presented like this:</p>

<pre><code>platform :ios, '8.0'
use_frameworks!

target 'MyApp' do
  pod 'AFNetworking', '~&gt; 2.5'
  pod 'ORStackView', '~&gt; 2.0'
  pod 'SwiftyJSON', '~&gt; 2.1'
end
</code></pre>

<p>Just with this, you are able to create a .xcworkspace containing your project and all of these awesome frameworks, just by tapping on your Terminal:</p>

<pre><code>pod install
</code></pre>

<p>And magic happen. No injection error, no duplicate symbols, everything rocks. You now want to use AFNetworking ? just put it on your file like this:</p>

<pre><code>#import &lt;AFNetworking/AFnetworking.h&gt;
</code></pre>

<p>the main drawbacks of Cocoapods is its solution: it's intrusive in your code (you have to open a xcworkspace) and not all libraries can be pulled by Cocoapods, they need to be known in the Cocoapods database. Not like Carthage.</p>

<p>If you want more informations about Cocoapods --&gt; <a href="https://cocoapods.org">here</a> </p>

<h3 id="carthage">Carthage</h3>

<p>Instead of Cocoapods, Carthage allow you to inject all (well done) repositories you want, package it into static or dynamic libs and give you beautifuls .framework. <br>
When Cocoapods is easier to use, Carthage need to create some manual stuff, like importation and XocdeProject modifications, but can be done easily, and maybe automatically done in a beautilful high end Carthage script.</p>

<p>The solution is based on a Cartfile, which list all of the framework you want with their repos:</p>

<pre><code>github "Carthage/ReactiveTask" "0.7-beta.2"
github "thoughtbot/Argo" ~&gt; 1.0.1
</code></pre>

<p>Not a pod install to do, but a </p>

<pre><code>carthage update
</code></pre>

<p>And your framework are done ! You 'just' have to integrate it (but again, I pretty sure this part can be automatically done)</p>

<p>If you want more informations about Carthage --&gt; <a href="https://github.com/Carthage/Carthage">here</a> </p>
			</section>

			<footer class="post-footer">
					<section class="author-card cf">
							<figure class="author-image">					
								<a href="../author/julien/"><img src="../content/images/2015/05/jlngdt_rounded.png" alt="Julien Gdt's Image"></a>
							</figure>
						<div class="author-meta">
							 <a class="author-name" href="../author/julien/">Julien Gdt
							 </a><a href="http://juliengdt.github.io/github-resume/" class="author-website" rel="author">Website</a>
							 <div class="author-location">Lyon - FR</div>
							 
						</div>
					</section>

			</footer>
	</article>
	
	<aside class="post-navigation cf">
			<div class="nav-next">
				<a href="../nhl-or-how-to-be-lazzier-than-afnetworking/">NHL, or how to be lazzier than AFNetworking</a>
			</div>
			<div class="nav-previous">
				<a href="../top-10-mobile-security-threats-owasp/">TOP 10 Mobile Security Threats - OWASP</a>
			</div>
	</aside>

</main>


	<footer class="site-footer">
		<a class="subscribe icon-feed" href="../rss/index.rss"><span class="tooltip">RSS</span></a>
		<div class="inner">
			 <section class="copyright">All content copyright <a href="../">Julien Gdt</a> © 2015 • All rights reserved.</section>
			 <section class="poweredby">Proudly published with <a class="icon-ghost" href="https://ghost.org">Ghost</a></section>
			 <section class="themeinfo"><a href="http://scotthsmith.com/projects/decode/">Decode</a> by <a href="http://scotthsmith.com">Scott Smith</a></section>
		</div>
	</footer>

 
  

	<script src="../public/jquery.js?v=1ce4e9d1a8"></script>
	<script src="../assets/scripts/build/main.js?v=1ce4e9d1a8"></script>
</body>
